/* Workspaces.c generated by valac 0.56.17, the Vala compiler
 * generated from Workspaces.vala, do not modify */

#include <gtk/gtk.h>
#include <glib-object.h>
#include <astal-hyprland.h>
#include <glib.h>
#include <stdlib.h>
#include <string.h>
#include <gdk/gdk.h>
#include <float.h>
#include <math.h>

#if !defined(VALA_STRICT_C)
#if !defined(__clang__) && defined(__GNUC__) && (__GNUC__ >= 14)
#pragma GCC diagnostic warning "-Wincompatible-pointer-types"
#elif defined(__clang__) && (__clang_major__ >= 16)
#pragma clang diagnostic ignored "-Wincompatible-function-pointer-types"
#pragma clang diagnostic ignored "-Wincompatible-pointer-types"
#endif
#endif
#if !defined(VALA_EXTERN)
#if defined(_MSC_VER)
#define VALA_EXTERN __declspec(dllexport) extern
#elif __GNUC__ >= 4
#define VALA_EXTERN __attribute__((visibility("default"))) extern
#else
#define VALA_EXTERN extern
#endif
#endif

#define TYPE_WORKSPACES (workspaces_get_type ())
#define WORKSPACES(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_WORKSPACES, Workspaces))
#define WORKSPACES_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_WORKSPACES, WorkspacesClass))
#define IS_WORKSPACES(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_WORKSPACES))
#define IS_WORKSPACES_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_WORKSPACES))
#define WORKSPACES_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_WORKSPACES, WorkspacesClass))

typedef struct _Workspaces Workspaces;
typedef struct _WorkspacesClass WorkspacesClass;
typedef struct _WorkspacesPrivate WorkspacesPrivate;
enum  {
	WORKSPACES_0_PROPERTY,
	WORKSPACES_NUM_PROPERTIES
};
static GParamSpec* workspaces_properties[WORKSPACES_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
typedef struct _Block2Data Block2Data;

struct _Workspaces {
	GtkBox parent_instance;
	WorkspacesPrivate * priv;
};

struct _WorkspacesClass {
	GtkBoxClass parent_class;
};

struct _WorkspacesPrivate {
	AstalHyprlandHyprland* _hyprland;
};

struct _Block2Data {
	int _ref_count_;
	Workspaces* self;
	gint workspace_number;
};

static gint Workspaces_private_offset;
static gpointer workspaces_parent_class = NULL;

VALA_EXTERN GType workspaces_get_type (void) G_GNUC_CONST ;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (Workspaces, g_object_unref)
VALA_EXTERN Workspaces* workspaces_new (AstalHyprlandHyprland* hyprland);
VALA_EXTERN Workspaces* workspaces_construct (GType object_type,
                                  AstalHyprlandHyprland* hyprland);
static void workspaces_connect_button_to_workspace (Workspaces* self,
                                             GtkButton* button,
                                             gint workspace_number);
static void workspaces_update_workspaces (Workspaces* self);
static void workspaces_setup_workspace_event_handlers (Workspaces* self);
static void workspaces_setup_workspace_scroll (Workspaces* self);
static Block2Data* block2_data_ref (Block2Data* _data2_);
static void block2_data_unref (void * _userdata_);
static void __lambda4_ (Block2Data* _data2_);
static void ___lambda4__gtk_gesture_click_pressed (GtkGestureClick* _sender,
                                            gint n_press,
                                            gdouble x,
                                            gdouble y,
                                            gpointer self);
static void __lambda5_ (Block2Data* _data2_);
static void ___lambda5__gtk_button_clicked (GtkButton* _sender,
                                     gpointer self);
static void _workspaces_update_workspaces_g_object_notify (GObject* _sender,
                                                    GParamSpec* pspec,
                                                    gpointer self);
static void _workspaces_update_workspaces_astal_hyprland_hyprland_client_added (AstalHyprlandHyprland* _sender,
                                                                         AstalHyprlandClient* client,
                                                                         gpointer self);
static void _workspaces_update_workspaces_astal_hyprland_hyprland_client_removed (AstalHyprlandHyprland* _sender,
                                                                           const gchar* address,
                                                                           gpointer self);
static void _workspaces_update_workspaces_astal_hyprland_hyprland_client_moved (AstalHyprlandHyprland* _sender,
                                                                         AstalHyprlandClient* client,
                                                                         AstalHyprlandWorkspace* ws,
                                                                         gpointer self);
static gboolean __lambda6_ (Workspaces* self,
                     gdouble delta_x,
                     gdouble delta_y);
static gboolean ___lambda6__gtk_event_controller_scroll_scroll (GtkEventControllerScroll* _sender,
                                                         gdouble dx,
                                                         gdouble dy,
                                                         gpointer self);
static gboolean workspaces_workspace_exists (Workspaces* self,
                                      gint workspace_number);
static void workspaces_finalize (GObject * obj);
static GType workspaces_get_type_once (void);
static void _vala_array_destroy (gpointer array,
                          gssize array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gssize array_length,
                       GDestroyNotify destroy_func);

static inline gpointer
workspaces_get_instance_private (Workspaces* self)
{
	return G_STRUCT_MEMBER_P (self, Workspaces_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 6 "../src/vala/bar/items/Workspaces.vala"
	return self ? g_object_ref (self) : NULL;
#line 138 "Workspaces.c"
}

Workspaces*
workspaces_construct (GType object_type,
                      AstalHyprlandHyprland* hyprland)
{
	Workspaces * self = NULL;
	AstalHyprlandHyprland* _tmp0_;
#line 5 "../src/vala/bar/items/Workspaces.vala"
	g_return_val_if_fail (hyprland != NULL, NULL);
#line 5 "../src/vala/bar/items/Workspaces.vala"
	self = (Workspaces*) g_object_new (object_type, NULL);
#line 6 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = _g_object_ref0 (hyprland);
#line 6 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (self->priv->_hyprland);
#line 6 "../src/vala/bar/items/Workspaces.vala"
	self->priv->_hyprland = _tmp0_;
#line 157 "Workspaces.c"
	{
		gint i = 0;
#line 10 "../src/vala/bar/items/Workspaces.vala"
		i = 1;
#line 162 "Workspaces.c"
		{
			gboolean _tmp1_ = FALSE;
#line 10 "../src/vala/bar/items/Workspaces.vala"
			_tmp1_ = TRUE;
#line 10 "../src/vala/bar/items/Workspaces.vala"
			while (TRUE) {
#line 169 "Workspaces.c"
				GtkButton* workspace_button = NULL;
				gchar* _tmp3_;
				gchar* _tmp4_;
				GtkButton* _tmp5_ = NULL;
				GtkButton* _tmp6_;
				GtkButton* _tmp7_;
				GtkButton* _tmp8_;
#line 10 "../src/vala/bar/items/Workspaces.vala"
				if (!_tmp1_) {
#line 179 "Workspaces.c"
					gint _tmp2_;
#line 10 "../src/vala/bar/items/Workspaces.vala"
					_tmp2_ = i;
#line 10 "../src/vala/bar/items/Workspaces.vala"
					i = _tmp2_ + 1;
#line 185 "Workspaces.c"
				}
#line 10 "../src/vala/bar/items/Workspaces.vala"
				_tmp1_ = FALSE;
#line 10 "../src/vala/bar/items/Workspaces.vala"
				if (!(i <= 10)) {
#line 10 "../src/vala/bar/items/Workspaces.vala"
					break;
#line 193 "Workspaces.c"
				}
#line 11 "../src/vala/bar/items/Workspaces.vala"
				_tmp3_ = g_strdup_printf ("%i", i);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				_tmp4_ = _tmp3_;
#line 11 "../src/vala/bar/items/Workspaces.vala"
				_tmp5_ = (GtkButton*) gtk_button_new_with_label (_tmp4_);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				gtk_widget_set_valign ((GtkWidget*) _tmp5_, GTK_ALIGN_CENTER);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				gtk_widget_set_halign ((GtkWidget*) _tmp5_, GTK_ALIGN_CENTER);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				g_object_ref_sink (_tmp5_);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				_tmp6_ = _tmp5_;
#line 11 "../src/vala/bar/items/Workspaces.vala"
				_g_free0 (_tmp4_);
#line 11 "../src/vala/bar/items/Workspaces.vala"
				workspace_button = _tmp6_;
#line 15 "../src/vala/bar/items/Workspaces.vala"
				_tmp7_ = workspace_button;
#line 15 "../src/vala/bar/items/Workspaces.vala"
				workspaces_connect_button_to_workspace (self, _tmp7_, i);
#line 16 "../src/vala/bar/items/Workspaces.vala"
				_tmp8_ = workspace_button;
#line 16 "../src/vala/bar/items/Workspaces.vala"
				gtk_box_append ((GtkBox*) self, (GtkWidget*) _tmp8_);
#line 10 "../src/vala/bar/items/Workspaces.vala"
				_g_object_unref0 (workspace_button);
#line 223 "Workspaces.c"
			}
		}
	}
#line 18 "../src/vala/bar/items/Workspaces.vala"
	workspaces_update_workspaces (self);
#line 19 "../src/vala/bar/items/Workspaces.vala"
	workspaces_setup_workspace_event_handlers (self);
#line 20 "../src/vala/bar/items/Workspaces.vala"
	workspaces_setup_workspace_scroll (self);
#line 5 "../src/vala/bar/items/Workspaces.vala"
	return self;
#line 235 "Workspaces.c"
}

Workspaces*
workspaces_new (AstalHyprlandHyprland* hyprland)
{
#line 5 "../src/vala/bar/items/Workspaces.vala"
	return workspaces_construct (TYPE_WORKSPACES, hyprland);
#line 243 "Workspaces.c"
}

static Block2Data*
block2_data_ref (Block2Data* _data2_)
{
#line 23 "../src/vala/bar/items/Workspaces.vala"
	g_atomic_int_inc (&_data2_->_ref_count_);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	return _data2_;
#line 253 "Workspaces.c"
}

static void
block2_data_unref (void * _userdata_)
{
	Block2Data* _data2_;
	_data2_ = (Block2Data*) _userdata_;
#line 23 "../src/vala/bar/items/Workspaces.vala"
	if (g_atomic_int_dec_and_test (&_data2_->_ref_count_)) {
#line 263 "Workspaces.c"
		Workspaces* self;
#line 23 "../src/vala/bar/items/Workspaces.vala"
		self = _data2_->self;
#line 23 "../src/vala/bar/items/Workspaces.vala"
		_g_object_unref0 (self);
#line 23 "../src/vala/bar/items/Workspaces.vala"
		g_slice_free (Block2Data, _data2_);
#line 271 "Workspaces.c"
	}
}

static void
__lambda4_ (Block2Data* _data2_)
{
	Workspaces* self;
	AstalHyprlandHyprland* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 27 "../src/vala/bar/items/Workspaces.vala"
	self = _data2_->self;
#line 28 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = self->priv->_hyprland;
#line 28 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = g_strdup_printf ("%i", _data2_->workspace_number);
#line 28 "../src/vala/bar/items/Workspaces.vala"
	_tmp2_ = _tmp1_;
#line 28 "../src/vala/bar/items/Workspaces.vala"
	astal_hyprland_hyprland_dispatch (_tmp0_, "movetoworkspacesilent", _tmp2_);
#line 28 "../src/vala/bar/items/Workspaces.vala"
	_g_free0 (_tmp2_);
#line 294 "Workspaces.c"
}

static void
___lambda4__gtk_gesture_click_pressed (GtkGestureClick* _sender,
                                       gint n_press,
                                       gdouble x,
                                       gdouble y,
                                       gpointer self)
{
#line 27 "../src/vala/bar/items/Workspaces.vala"
	__lambda4_ (self);
#line 306 "Workspaces.c"
}

static void
__lambda5_ (Block2Data* _data2_)
{
	Workspaces* self;
	AstalHyprlandHyprland* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 32 "../src/vala/bar/items/Workspaces.vala"
	self = _data2_->self;
#line 33 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = self->priv->_hyprland;
#line 33 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = g_strdup_printf ("%i", _data2_->workspace_number);
#line 33 "../src/vala/bar/items/Workspaces.vala"
	_tmp2_ = _tmp1_;
#line 33 "../src/vala/bar/items/Workspaces.vala"
	astal_hyprland_hyprland_dispatch (_tmp0_, "workspace", _tmp2_);
#line 33 "../src/vala/bar/items/Workspaces.vala"
	_g_free0 (_tmp2_);
#line 328 "Workspaces.c"
}

static void
___lambda5__gtk_button_clicked (GtkButton* _sender,
                                gpointer self)
{
#line 32 "../src/vala/bar/items/Workspaces.vala"
	__lambda5_ (self);
#line 337 "Workspaces.c"
}

static void
workspaces_connect_button_to_workspace (Workspaces* self,
                                        GtkButton* button,
                                        gint workspace_number)
{
	Block2Data* _data2_;
	GtkGestureClick* middle_click = NULL;
	GtkGestureClick* _tmp0_ = NULL;
	GtkEventController* _tmp1_;
#line 23 "../src/vala/bar/items/Workspaces.vala"
	g_return_if_fail (self != NULL);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	g_return_if_fail (button != NULL);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_data2_ = g_slice_new0 (Block2Data);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_data2_->_ref_count_ = 1;
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_data2_->self = g_object_ref (self);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_data2_->workspace_number = workspace_number;
#line 24 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = (GtkGestureClick*) gtk_gesture_click_new ();
#line 24 "../src/vala/bar/items/Workspaces.vala"
	gtk_gesture_single_set_button ((GtkGestureSingle*) _tmp0_, (guint) GDK_BUTTON_MIDDLE);
#line 24 "../src/vala/bar/items/Workspaces.vala"
	middle_click = _tmp0_;
#line 27 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_data (middle_click, "pressed", (GCallback) ___lambda4__gtk_gesture_click_pressed, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 30 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = _g_object_ref0 ((GtkEventController*) middle_click);
#line 30 "../src/vala/bar/items/Workspaces.vala"
	gtk_widget_add_controller ((GtkWidget*) button, _tmp1_);
#line 32 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_data (button, "clicked", (GCallback) ___lambda5__gtk_button_clicked, block2_data_ref (_data2_), (GClosureNotify) block2_data_unref, 0);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (middle_click);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	block2_data_unref (_data2_);
#line 23 "../src/vala/bar/items/Workspaces.vala"
	_data2_ = NULL;
#line 381 "Workspaces.c"
}

static void
_workspaces_update_workspaces_g_object_notify (GObject* _sender,
                                               GParamSpec* pspec,
                                               gpointer self)
{
#line 38 "../src/vala/bar/items/Workspaces.vala"
	workspaces_update_workspaces ((Workspaces*) self);
#line 391 "Workspaces.c"
}

static void
_workspaces_update_workspaces_astal_hyprland_hyprland_client_added (AstalHyprlandHyprland* _sender,
                                                                    AstalHyprlandClient* client,
                                                                    gpointer self)
{
#line 39 "../src/vala/bar/items/Workspaces.vala"
	workspaces_update_workspaces ((Workspaces*) self);
#line 401 "Workspaces.c"
}

static void
_workspaces_update_workspaces_astal_hyprland_hyprland_client_removed (AstalHyprlandHyprland* _sender,
                                                                      const gchar* address,
                                                                      gpointer self)
{
#line 40 "../src/vala/bar/items/Workspaces.vala"
	workspaces_update_workspaces ((Workspaces*) self);
#line 411 "Workspaces.c"
}

static void
_workspaces_update_workspaces_astal_hyprland_hyprland_client_moved (AstalHyprlandHyprland* _sender,
                                                                    AstalHyprlandClient* client,
                                                                    AstalHyprlandWorkspace* ws,
                                                                    gpointer self)
{
#line 41 "../src/vala/bar/items/Workspaces.vala"
	workspaces_update_workspaces ((Workspaces*) self);
#line 422 "Workspaces.c"
}

static void
workspaces_setup_workspace_event_handlers (Workspaces* self)
{
	AstalHyprlandHyprland* _tmp0_;
	AstalHyprlandHyprland* _tmp1_;
	AstalHyprlandHyprland* _tmp2_;
	AstalHyprlandHyprland* _tmp3_;
#line 37 "../src/vala/bar/items/Workspaces.vala"
	g_return_if_fail (self != NULL);
#line 38 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = self->priv->_hyprland;
#line 38 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_object ((GObject*) _tmp0_, "notify::focused-workspace", (GCallback) _workspaces_update_workspaces_g_object_notify, self, 0);
#line 39 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = self->priv->_hyprland;
#line 39 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_object (_tmp1_, "client-added", (GCallback) _workspaces_update_workspaces_astal_hyprland_hyprland_client_added, self, 0);
#line 40 "../src/vala/bar/items/Workspaces.vala"
	_tmp2_ = self->priv->_hyprland;
#line 40 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_object (_tmp2_, "client-removed", (GCallback) _workspaces_update_workspaces_astal_hyprland_hyprland_client_removed, self, 0);
#line 41 "../src/vala/bar/items/Workspaces.vala"
	_tmp3_ = self->priv->_hyprland;
#line 41 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_object (_tmp3_, "client-moved", (GCallback) _workspaces_update_workspaces_astal_hyprland_hyprland_client_moved, self, 0);
#line 450 "Workspaces.c"
}

static gboolean
__lambda6_ (Workspaces* self,
            gdouble delta_x,
            gdouble delta_y)
{
	const gchar* _tmp0_ = NULL;
	gchar* direction = NULL;
	gchar* _tmp1_;
	AstalHyprlandHyprland* _tmp2_;
	gboolean result;
#line 48 "../src/vala/bar/items/Workspaces.vala"
	if (delta_y > ((gdouble) 0)) {
#line 48 "../src/vala/bar/items/Workspaces.vala"
		_tmp0_ = "e-1";
#line 467 "Workspaces.c"
	} else {
#line 48 "../src/vala/bar/items/Workspaces.vala"
		_tmp0_ = "e+1";
#line 471 "Workspaces.c"
	}
#line 48 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 48 "../src/vala/bar/items/Workspaces.vala"
	direction = _tmp1_;
#line 49 "../src/vala/bar/items/Workspaces.vala"
	_tmp2_ = self->priv->_hyprland;
#line 49 "../src/vala/bar/items/Workspaces.vala"
	astal_hyprland_hyprland_dispatch (_tmp2_, "workspace", direction);
#line 50 "../src/vala/bar/items/Workspaces.vala"
	result = TRUE;
#line 50 "../src/vala/bar/items/Workspaces.vala"
	_g_free0 (direction);
#line 50 "../src/vala/bar/items/Workspaces.vala"
	return result;
#line 487 "Workspaces.c"
}

static gboolean
___lambda6__gtk_event_controller_scroll_scroll (GtkEventControllerScroll* _sender,
                                                gdouble dx,
                                                gdouble dy,
                                                gpointer self)
{
	gboolean result;
	result = __lambda6_ ((Workspaces*) self, dx, dy);
#line 47 "../src/vala/bar/items/Workspaces.vala"
	return result;
#line 500 "Workspaces.c"
}

static void
workspaces_setup_workspace_scroll (Workspaces* self)
{
	GtkEventControllerScroll* scroll_controller = NULL;
	GtkEventControllerScroll* _tmp0_;
	GtkEventController* _tmp1_;
#line 44 "../src/vala/bar/items/Workspaces.vala"
	g_return_if_fail (self != NULL);
#line 45 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = (GtkEventControllerScroll*) gtk_event_controller_scroll_new (GTK_EVENT_CONTROLLER_SCROLL_VERTICAL);
#line 45 "../src/vala/bar/items/Workspaces.vala"
	scroll_controller = _tmp0_;
#line 47 "../src/vala/bar/items/Workspaces.vala"
	g_signal_connect_object (scroll_controller, "scroll", (GCallback) ___lambda6__gtk_event_controller_scroll_scroll, self, 0);
#line 52 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = _g_object_ref0 ((GtkEventController*) scroll_controller);
#line 52 "../src/vala/bar/items/Workspaces.vala"
	gtk_widget_add_controller ((GtkWidget*) self, _tmp1_);
#line 44 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (scroll_controller);
#line 523 "Workspaces.c"
}

static void
workspaces_update_workspaces (Workspaces* self)
{
	gint index = 0;
	GtkButton* current = NULL;
	GtkWidget* _tmp0_;
	GtkButton* _tmp1_;
	gint focused_workspace_id = 0;
	AstalHyprlandHyprland* _tmp2_;
	AstalHyprlandWorkspace* _tmp3_;
	AstalHyprlandWorkspace* _tmp4_;
	gint _tmp5_;
	gint _tmp6_;
#line 55 "../src/vala/bar/items/Workspaces.vala"
	g_return_if_fail (self != NULL);
#line 56 "../src/vala/bar/items/Workspaces.vala"
	index = 0;
#line 57 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = gtk_widget_get_first_child ((GtkWidget*) self);
#line 57 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_button_get_type (), GtkButton));
#line 57 "../src/vala/bar/items/Workspaces.vala"
	current = _tmp1_;
#line 58 "../src/vala/bar/items/Workspaces.vala"
	_tmp2_ = self->priv->_hyprland;
#line 58 "../src/vala/bar/items/Workspaces.vala"
	_tmp3_ = astal_hyprland_hyprland_get_focused_workspace (_tmp2_);
#line 58 "../src/vala/bar/items/Workspaces.vala"
	_tmp4_ = _tmp3_;
#line 58 "../src/vala/bar/items/Workspaces.vala"
	_tmp5_ = astal_hyprland_workspace_get_id (_tmp4_);
#line 58 "../src/vala/bar/items/Workspaces.vala"
	_tmp6_ = _tmp5_;
#line 58 "../src/vala/bar/items/Workspaces.vala"
	focused_workspace_id = _tmp6_;
#line 60 "../src/vala/bar/items/Workspaces.vala"
	while (TRUE) {
#line 563 "Workspaces.c"
		GtkButton* _tmp7_;
		GtkButton* _tmp20_;
		GtkWidget* _tmp21_;
		GtkButton* _tmp22_;
		gint _tmp23_;
#line 60 "../src/vala/bar/items/Workspaces.vala"
		_tmp7_ = current;
#line 60 "../src/vala/bar/items/Workspaces.vala"
		if (!(_tmp7_ != NULL)) {
#line 60 "../src/vala/bar/items/Workspaces.vala"
			break;
#line 575 "Workspaces.c"
		}
#line 61 "../src/vala/bar/items/Workspaces.vala"
		if ((index + 1) == focused_workspace_id) {
#line 579 "Workspaces.c"
			GtkButton* _tmp8_;
			gchar* _tmp9_;
			gchar** _tmp10_;
			gchar** _tmp11_;
			gint _tmp11__length1;
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp8_ = current;
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp9_ = g_strdup ("focused");
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp10_ = g_new0 (gchar*, 1 + 1);
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp10_[0] = _tmp9_;
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp11_ = _tmp10_;
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp11__length1 = 1;
#line 62 "../src/vala/bar/items/Workspaces.vala"
			gtk_widget_set_css_classes ((GtkWidget*) _tmp8_, _tmp11_);
#line 62 "../src/vala/bar/items/Workspaces.vala"
			_tmp11_ = (_vala_array_free (_tmp11_, _tmp11__length1, (GDestroyNotify) g_free), NULL);
#line 601 "Workspaces.c"
		} else {
#line 63 "../src/vala/bar/items/Workspaces.vala"
			if (workspaces_workspace_exists (self, index + 1)) {
#line 605 "Workspaces.c"
				GtkButton* _tmp12_;
				gchar* _tmp13_;
				gchar** _tmp14_;
				gchar** _tmp15_;
				gint _tmp15__length1;
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp12_ = current;
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp13_ = g_strdup ("occupied");
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp14_ = g_new0 (gchar*, 1 + 1);
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp14_[0] = _tmp13_;
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp15_ = _tmp14_;
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp15__length1 = 1;
#line 64 "../src/vala/bar/items/Workspaces.vala"
				gtk_widget_set_css_classes ((GtkWidget*) _tmp12_, _tmp15_);
#line 64 "../src/vala/bar/items/Workspaces.vala"
				_tmp15_ = (_vala_array_free (_tmp15_, _tmp15__length1, (GDestroyNotify) g_free), NULL);
#line 627 "Workspaces.c"
			} else {
				GtkButton* _tmp16_;
				gchar* _tmp17_;
				gchar** _tmp18_;
				gchar** _tmp19_;
				gint _tmp19__length1;
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp16_ = current;
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp17_ = g_strdup ("empty");
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp18_ = g_new0 (gchar*, 1 + 1);
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp18_[0] = _tmp17_;
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp19_ = _tmp18_;
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp19__length1 = 1;
#line 66 "../src/vala/bar/items/Workspaces.vala"
				gtk_widget_set_css_classes ((GtkWidget*) _tmp16_, _tmp19_);
#line 66 "../src/vala/bar/items/Workspaces.vala"
				_tmp19_ = (_vala_array_free (_tmp19_, _tmp19__length1, (GDestroyNotify) g_free), NULL);
#line 650 "Workspaces.c"
			}
		}
#line 68 "../src/vala/bar/items/Workspaces.vala"
		_tmp20_ = current;
#line 68 "../src/vala/bar/items/Workspaces.vala"
		_tmp21_ = gtk_widget_get_next_sibling ((GtkWidget*) _tmp20_);
#line 68 "../src/vala/bar/items/Workspaces.vala"
		_tmp22_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_CAST (_tmp21_, gtk_button_get_type (), GtkButton));
#line 68 "../src/vala/bar/items/Workspaces.vala"
		_g_object_unref0 (current);
#line 68 "../src/vala/bar/items/Workspaces.vala"
		current = _tmp22_;
#line 69 "../src/vala/bar/items/Workspaces.vala"
		_tmp23_ = index;
#line 69 "../src/vala/bar/items/Workspaces.vala"
		index = _tmp23_ + 1;
#line 667 "Workspaces.c"
	}
#line 55 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (current);
#line 671 "Workspaces.c"
}

static gboolean
workspaces_workspace_exists (Workspaces* self,
                             gint workspace_number)
{
	AstalHyprlandWorkspace* workspace = NULL;
	AstalHyprlandHyprland* _tmp0_;
	AstalHyprlandWorkspace* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp3_ = FALSE;
	AstalHyprlandWorkspace* _tmp4_;
	gboolean result;
#line 73 "../src/vala/bar/items/Workspaces.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 74 "../src/vala/bar/items/Workspaces.vala"
	_tmp0_ = self->priv->_hyprland;
#line 74 "../src/vala/bar/items/Workspaces.vala"
	_tmp1_ = astal_hyprland_hyprland_get_workspace (_tmp0_, workspace_number);
#line 74 "../src/vala/bar/items/Workspaces.vala"
	workspace = _tmp1_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
	_tmp4_ = workspace;
#line 76 "../src/vala/bar/items/Workspaces.vala"
	if (_tmp4_ != NULL) {
#line 697 "Workspaces.c"
		AstalHyprlandWorkspace* _tmp5_;
		GList* _tmp6_;
		GList* _tmp7_;
		GList* _tmp8_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp5_ = workspace;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp6_ = astal_hyprland_workspace_get_clients (_tmp5_);
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp7_ = _tmp6_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp8_ = _tmp7_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp3_ = _tmp8_ != NULL;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		(_tmp8_ == NULL) ? NULL : (_tmp8_ = (g_list_free (_tmp8_), NULL));
#line 714 "Workspaces.c"
	} else {
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp3_ = FALSE;
#line 718 "Workspaces.c"
	}
#line 76 "../src/vala/bar/items/Workspaces.vala"
	if (_tmp3_) {
#line 722 "Workspaces.c"
		AstalHyprlandWorkspace* _tmp9_;
		GList* _tmp10_;
		GList* _tmp11_;
		GList* _tmp12_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp9_ = workspace;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp10_ = astal_hyprland_workspace_get_clients (_tmp9_);
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp11_ = _tmp10_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp12_ = _tmp11_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp2_ = g_list_length (_tmp12_) > ((guint) 0);
#line 76 "../src/vala/bar/items/Workspaces.vala"
		(_tmp12_ == NULL) ? NULL : (_tmp12_ = (g_list_free (_tmp12_), NULL));
#line 739 "Workspaces.c"
	} else {
#line 76 "../src/vala/bar/items/Workspaces.vala"
		_tmp2_ = FALSE;
#line 743 "Workspaces.c"
	}
#line 76 "../src/vala/bar/items/Workspaces.vala"
	result = _tmp2_;
#line 76 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (workspace);
#line 76 "../src/vala/bar/items/Workspaces.vala"
	return result;
#line 751 "Workspaces.c"
}

static void
workspaces_class_init (WorkspacesClass * klass,
                       gpointer klass_data)
{
#line 2 "../src/vala/bar/items/Workspaces.vala"
	workspaces_parent_class = g_type_class_peek_parent (klass);
#line 2 "../src/vala/bar/items/Workspaces.vala"
	g_type_class_adjust_private_offset (klass, &Workspaces_private_offset);
#line 2 "../src/vala/bar/items/Workspaces.vala"
	G_OBJECT_CLASS (klass)->finalize = workspaces_finalize;
#line 764 "Workspaces.c"
}

static void
workspaces_instance_init (Workspaces * self,
                          gpointer klass)
{
#line 2 "../src/vala/bar/items/Workspaces.vala"
	self->priv = workspaces_get_instance_private (self);
#line 773 "Workspaces.c"
}

static void
workspaces_finalize (GObject * obj)
{
	Workspaces * self;
#line 2 "../src/vala/bar/items/Workspaces.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_WORKSPACES, Workspaces);
#line 3 "../src/vala/bar/items/Workspaces.vala"
	_g_object_unref0 (self->priv->_hyprland);
#line 2 "../src/vala/bar/items/Workspaces.vala"
	G_OBJECT_CLASS (workspaces_parent_class)->finalize (obj);
#line 786 "Workspaces.c"
}

static GType
workspaces_get_type_once (void)
{
	static const GTypeInfo g_define_type_info = { sizeof (WorkspacesClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) workspaces_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Workspaces), 0, (GInstanceInitFunc) workspaces_instance_init, NULL };
	GType workspaces_type_id;
	workspaces_type_id = g_type_register_static (gtk_box_get_type (), "Workspaces", &g_define_type_info, 0);
	Workspaces_private_offset = g_type_add_instance_private (workspaces_type_id, sizeof (WorkspacesPrivate));
	return workspaces_type_id;
}

GType
workspaces_get_type (void)
{
	static volatile gsize workspaces_type_id__once = 0;
	if (g_once_init_enter (&workspaces_type_id__once)) {
		GType workspaces_type_id;
		workspaces_type_id = workspaces_get_type_once ();
		g_once_init_leave (&workspaces_type_id__once, workspaces_type_id);
	}
	return workspaces_type_id__once;
}

static void
_vala_array_destroy (gpointer array,
                     gssize array_length,
                     GDestroyNotify destroy_func)
{
	if ((array != NULL) && (destroy_func != NULL)) {
		gssize i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gssize array_length,
                  GDestroyNotify destroy_func)
{
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}

